<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>LICITAR • Painel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* =========================== */
/* BASE / GERAL */
/* =========================== */
*{ box-sizing:border-box; margin:0; padding:0; font-family:Inter, sans-serif; }

body{
  background:#f4f6fb;
  display:flex;
  height:100vh;
  overflow:hidden;
}

/* cursor mãozinha */
.menu-item, .submenu a, #toggleMenu, .logoutBtn {
  cursor:pointer;
}

/* =========================== */
/* MENU LATERAL */
/* =========================== */
.sidebar{
  width:260px;
  background:#ffffff;
  border-right:1px solid #e4e8f0;
  display:flex;
  flex-direction:column;
  padding-top:25px;
  transition:width .25s;
  position:relative;
  box-shadow: 4px 0 18px rgba(0,0,0,0.04);
}

.sidebar.closed{
  width:75px;
}

/* Botão recolher */
#toggleMenu{
  position:absolute;
  top:20px;
  right:-15px;
  width:34px;
  height:34px;
  background:#0b1e39;
  border-radius:50%;
  color:#fff;
  font-size:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:.25s;
  z-index:999;
  box-shadow:0 4px 12px rgba(0,0,0,0.25);
}

#toggleMenu:hover{
  transform:scale(1.08);
}

/* Logo */
.logoBox{
  text-align:center;
  margin-bottom:30px;
}

.logoBox img{
  width:130px;
  height:auto;
  transition:.25s;
}

.sidebar.closed .logoBox img{
  width:42px;
}

/* MENU ITENS */
.menu{
  padding:8px 0;
}

.menu-item{
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px 20px;
  font-size:15px;
  font-weight:500;
  color:#1d2d50;
  cursor:pointer;
  border-radius:8px;
  margin:4px 12px;
  transition:.25s;
}

.menu-item:hover{
  background:#eef3ff;
  box-shadow:0 1px 4px rgba(0,0,0,0.08);
}

.menu-item img{
  width:22px;
  filter:brightness(0.3);
}

.menu-item.active{
  background:#dce6ff;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
}

.menu-item.active img{
  filter:brightness(1);
}

/* quando recolher o menu */
.sidebar.closed .menu-item span,
.sidebar.closed .arrow {
  display:none;
}

.sidebar.closed .menu-item{
  justify-content:center;
}

/* =========================== */
/* SUBMENUS */
/* =========================== */

.submenu{
  display:none;
  padding-left:65px;
  margin-top:-5px;
}

/* Submenu moderno */
.submenu a{
  display:block;
  padding:8px 12px;
  font-size:14px;
  color:#47557a;
  cursor:pointer;
  margin:3px 0;
  border-radius:6px;
  transition:.25s;
}

.submenu a:hover{
  background:#eef3ff;
  box-shadow:0 1px 4px rgba(0,0,0,0.08);
}

/* Submenu selecionado */
.submenu a.active-sub{
  background:#dce6ff;
  font-weight:600;
  color:#0b1e39;
  box-shadow:0 2px 6px rgba(0,0,0,0.12);
}

/* =========================== */
/* HEADER */
/* =========================== */
.header{
  height:70px;
  background:#ffffff;
  border-bottom:1px solid #e4e8f0;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 28px;
  box-shadow:0 1px 10px rgba(0,0,0,0.05);
}

.empresa{
  font-size:18px;
  font-weight:600;
  color:#0b1e39;
}

.userArea{
  display:flex;
  align-items:center;
  gap:18px;
  font-size:15px;
  color:#555;
}

.logoutBtn{
  cursor:pointer;
  color:#d9534f;
  font-weight:600;
}

/* =========================== */
/* MAIN / IFRAME */
/* =========================== */
.main{
  flex:1;
  display:flex;
  flex-direction:column;
  height:100vh;
}

iframe{
  border:none;
  width:100%;
  height:calc(100vh - 70px);
}
</style>
</head>

<body>

<!-- =========================== -->
<!-- MENU LATERAL -->
<!-- =========================== -->
<div class="sidebar" id="sidebar">

  <div id="toggleMenu" onclick="toggleMenu()">❮</div>

  <div class="logoBox">
    <img src="logo.png">
  </div>

  <div class="menu">

    <div class="menu-item active" onclick="selectMenu(this,'home.html')">
      <img src="icons/home.png">
      <span>Home</span>
    </div>

    <!-- Encontrar -->
    <div class="menu-item" onclick="toggleParent(this,'m1')">
      <img src="icons/search.png"><span>Encontrar</span>
      <div class="arrow">▾</div>
    </div>
    <div id="m1" class="submenu">
      <a onclick="selectSub(this,'encontrar.html')">Buscar Oportunidades</a>
      <a onclick="selectSub(this,'meus-avisos.html')">Meus Avisos</a>
      <a onclick="selectSub(this,'banco-licitacoes.html')">Banco de Licitações</a>
    </div>

    <!-- Dashboard -->
    <div class="menu-item" onclick="selectMenu(this,'dashboard.html')">
      <img src="icons/dashboard.png"><span>Dashboard</span>
    </div>

    <!-- Anexos -->
    <div class="menu-item" onclick="selectMenu(this,'anexos.html')">
      <img src="icons/clip.png"><span>Anexos ComprasNet</span>
    </div>

    <!-- Cadastrar -->
    <div class="menu-item" onclick="toggleParent(this,'m2')">
      <img src="icons/edit.png"><span>Cadastrar</span>
      <div class="arrow">▾</div>
    </div>
    <div id="m2" class="submenu">
      <a onclick="selectSub(this,'cadastrar.html')">Cadastro Geral</a>
    </div>

    <!-- Disputar -->
    <div class="menu-item" onclick="toggleParent(this,'m3')">
      <img src="icons/trophy.png"><span>Disputar</span>
      <div class="arrow">▾</div>
    </div>
    <div id="m3" class="submenu">
      <a onclick="selectSub(this,'disputar.html')">Enviar Lances</a>
    </div>

    <!-- Monitorar -->
    <div class="menu-item" onclick="toggleParent(this,'m4')">
      <img src="icons/wave.png"><span>Monitorar</span>
      <div class="arrow">▾</div>
    </div>
    <div id="m4" class="submenu">
      <a onclick="selectSub(this,'monitorar.html')">Alertas</a>
    </div>

    <!-- Visão de dados -->
    <div class="menu-item" onclick="toggleParent(this,'m5')">
      <img src="icons/data.png"><span>Visão de Dados</span>
      <div class="arrow">▾</div>
    </div>
    <div id="m5" class="submenu">
      <a onclick="selectSub(this,'visao-dados.html')">Análises</a>
    </div>

    <!-- Configurações -->
    <div class="menu-item" onclick="selectMenu(this,'configuracoes.html')">
      <img src="icons/settings.png"><span>Configurações</span>
    </div>

  </div>
</div>

<!-- =========================== -->
<!-- MAIN -->
<!-- =========================== -->
<div class="main">

  <div class="header">
    <div class="empresa">DELICIA GOURMET - FOODS TIME RESTAURANTE LTDA</div>

    <div class="userArea">
      <span id="usuario"></span>
      <span class="logoutBtn" onclick="logout()">Sair</span>
    </div>
  </div>

  <iframe id="frame" src="home.html"></iframe>

</div>

<script>
/* BLOQUEIO DE ACESSO */
const usuarioLogado = localStorage.getItem("usuarioEmail");
if(!usuarioLogado){ window.location.href = "login.html"; }
document.getElementById("usuario").innerHTML = usuarioLogado;

/* REMOVE TODAS AS SELEÇÕES */
function clearActive(){
  document.querySelectorAll(".menu-item").forEach(e=>e.classList.remove("active"));
  document.querySelectorAll(".submenu a").forEach(e=>e.classList.remove("active-sub"));
}

/* SELECIONAR MENU PAI */
function selectMenu(el,page){
  clearActive();
  el.classList.add("active");
  document.getElementById("frame").src = page;

  /* Fecha todos submenus */
  document.querySelectorAll(".submenu").forEach(s=>s.style.display="none");
}

/* SELECIONAR SUBMENU */
function selectSub(el,page){
  clearActive();
  el.classList.add("active-sub");
  document.getElementById("frame").src = page;

  /* Destacar pai */
  const parent = el.parentElement.previousElementSibling;
  parent.classList.add("active");
}

/* ABRIR/FECHAR SUBMENU */
function toggleParent(parent, submenuId){
  // fecha todos os submenus primeiro
  document.querySelectorAll(".submenu").forEach(s=>{
    if(s.id !== submenuId) s.style.display="none";
  });

  // alterna só o submenu clicado
  const menu = document.getElementById(submenuId);
  menu.style.display = menu.style.display==="block" ? "none" : "block";
}

/* RECOLHER MENU */
function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("closed");
}

/* LOGOUT */
function logout(){
  localStorage.removeItem("usuarioEmail");
  window.location.href = "login.html";
}
</script>
</body>
</html>
